# SD
Анализ предметной области
1). Интернет-магазин должен иметь веб-интерфейс, но он должен иметь возможность подключения через другие интерфейсы (веб-сервисы и т.п.)


2). Интернет-магазин предназначен для продажи книг, с оплатой заказов через интернет.
Можно воспользоваться API яндекс-деньги.
https://tech.yandex.ru/money/apps/

3). Пользователь должен иметь возможность добавить книги в онлайн корзину, после чего произвести оплату.
    a). Пользователь может убрать предметы из корзины.
Для каждого пользователя нужно сохранять сессию, запоминая все товары, которые он выбрал. По окончании сессии пользователь должен оплатить товары
или отказаться от покупки.


4). Пользователь должен иметь возможность вести списки желаемых покупок, т.е. книг, которые он хочет купить позже.
В данном случае удобно создать возможность регистрации в системе, привязывать список желаемых книг к аккаунту.

5). Пользователь должен иметь возможность отменить заказ до того, как он отправлен по почте.
Для каждого заказа завести кнопку отмены, если статус заказа позволяет.

6). Пользователь должен иметь возможность оплатить заказ кредитной картой или по счету на оплату.
Можно воспользоваться API яндекс-деньги.
https://tech.yandex.ru/money/apps/

7). Должна быть возможность вернуть книги.
Для каждого заказа завести кнопку, позволяющую выразить намерение о возврате книги.

8). Интернет-магазин должен встраиваться на сайты партнеров в виде мини-каталога, который составляется по основному каталогу, хранящемуся в центральной базе данных.
    a). Мини-каталог должен быть построен на основе XML для того, чтобы была возможность передавать его между системами.
    Нужно сделать внешний API для запроса миникаталога.

9). Пользователь должен иметь возможность создать учетную запись клиента, чтобы система запоминала данные пользователя (имя, адрес, данные банковской карты и т.д.) и восстанавливала их при входе.
    a). Система должна вести основной список учетных записей в центральной базе данных.
    Нужно выделить базу.

    b). При входе пользователя его пароль должен сверяться с паролем в основном списке паролей, сохраненным в базе данных.
    Просто запрос к базе данных.
    
10). Пользователь должен иметь возможность искать книги различными способами поиска – по заголовку, по автору, ключевому слову или категории и после поиска просматривать детальное описание книги.
Необходимо сначала собрать данные от пользователя, затем сформировать с их помощью необходимый запрос к БД и вывести ответ БД.

11). Пользователь должен иметь возможность оставлять отзывы на понравившиеся книги. Оставленные отзывы  должны появляться в детальном описании книги. Отзыв должен включать выставленный клиентом рейтинг (1-5), который должен показываться вместе с заголовком книги в списке книг.
    a). Отзывы на книгу должны модерироваться, т.е. им должен присваиваться статус Ok кем-то из администраторов прежде, чем они появятся на сайте.
    При появлении нового отзыва он должен направляться в список отзывов, ожидающих модерации.
    
    b). Длинные отзывы должны обрезаться при выводе детального описания книги. Клиент может щелкнуть по отзыву, чтобы просмотреть  полный отзыв на отдельной странице.
    Тривиальная задача.

12). Должна быть возможность размещения администраторами редакторских отзывов. Они также должны появляться на странице с детальным описанием книги.
    К каждому отзыву надо добавить дополнительный флажок, является ли он редакторским или нет.

13). Интернет-магазин должен позволять сторонним продавцам (например, магазинам подержанных книг) добавлять свои каталоги книг в основной каталог книг, так чтобы книги этих продавцов присутствовали в результатах поиска.
    Добавить в систему отдельного пользователя со статусом продавца и соответствующими правами.

14). Интернет-магазин должен быть масштабируем со следующими требованиями:
    a).Должна быть возможность управлять до 100 тыс. учетных записей пользователей за первые 6 месяцев работы и затем до 1 млн. пользователей.
    Необходимо граммотно упорядочить информацию в СУБД.

    b). Должна быть возможность обслуживать одновременно 1000 посетителей (до 10000 тысяч после 6 месяцев)
    Необходим хороший сервер СУБД.

    c). Система должна обслуживать 100 поисковых запросов в минуту (1 тыс./мин. после 6 месяцев)
    Необходим достаточно быстрый алгоритм поиска.

    d). Система должна обслуживать 100 покупок в час (1 тыс./час после 6 мес.)
    Яндекс-деньги позволяет такое осуществить.


Составные части: 1). работа с пользователями   2). работа с книгами   3). обработка платежей
4). поиск   5). учёт сессий   6). учёт заказов